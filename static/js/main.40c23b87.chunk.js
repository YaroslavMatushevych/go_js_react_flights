(this.webpackJsonpreact_flights=this.webpackJsonpreact_flights||[]).push([[0],{52:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var i=a(3),n=a(0),r=a.n(n),o=a(17),c=a.n(o),l=(a(52),a(22)),s=a.n(l),d=a(11),u=a(34),m=a(24),h=a(35),g=a.n(h),f=a(95);function p(e){var t=e.flight;return Object(i.jsx)("li",{children:Object(i.jsxs)("p",{children:["Flight from ",t.departure.airport," to ",t.arrival.airport,", ",t.flight_status," for ",t.flight_date]})})}var b=function(e){var t=e.flightsData;return Object(i.jsx)("ol",{className:"list-of-flights",children:t.map((function(e,t){return Object(i.jsx)(p,{flight:e},t)}))})},j=a(36),k=a(37),D=a(43),v=a(42),y=a(2),O=a(44),x=function(e){Object(D.a)(a,e);var t=Object(v.a)(a);function a(e){var i;return Object(j.a)(this,a),(i=t.call(this,e)).diagramRef=n.createRef(),i}return Object(k.a)(a,[{key:"componentDidMount",value:function(){if(this.diagramRef.current){var e=this.diagramRef.current.getDiagram();e&&(e.addDiagramListener("ChangedSelection",this.props.onDiagramEvent),e.addDiagramListener("ObjectDoubleClicked",this.props.onDiagramDoubleClicked))}}},{key:"componentWillUnmount",value:function(){if(this.diagramRef.current){var e=this.diagramRef.current.getDiagram();e&&(e.removeDiagramListener("ChangedSelection",this.props.onDiagramEvent),e.removeDiagramListener("ObjectDoubleClicked",this.props.onDiagramDoubleClicked))}}},{key:"initDiagram",value:function(){var e=y.GraphObject.make,t=e(y.Diagram,{"undoManager.isEnabled":!0,"clickCreatingTool.archetypeNodeData":{text:"new node",color:"lightblue"},model:e(y.GraphLinksModel,{linkKeyProperty:"key",makeUniqueKeyFunction:function(e,t){for(var a=t.key||1;e.findNodeDataForKey(a);)a++;return t.key=a,a},makeUniqueLinkKeyFunction:function(e,t){for(var a=t.key||-1;e.findLinkDataForKey(a);)a--;return t.key=a,a}})});return t.nodeTemplate=e(y.Node,{doubleClick:function(e){var t=e.diagram,a=t.lastInput.documentPoint,i=t.viewportBounds.width*t.scale/2.5,n=t.viewportBounds.height*t.scale/2.5,r=new y.Point(a.x-i/2,a.y-n/2),o=new y.Animation;o.easing=y.Animation.EaseLinear,o.add(t,"scale",t.scale,2.5),o.add(t,"position",t.position,r),o.start()}},"Auto",new y.Binding("location","loc",y.Point.parse).makeTwoWay(y.Point.stringify),e(y.Shape,"RoundedRectangle",{name:"SHAPE",fill:"white",strokeWidth:0,portId:"",fromLinkable:!0,toLinkable:!0,cursor:"pointer"},new y.Binding("fill","color")),e(y.TextBlock,{margin:8,editable:!0,font:"400 .875rem Roboto, sans-serif"},new y.Binding("text").makeTwoWay())),t.linkTemplate=e(y.Link,new y.Binding("relinkableFrom","canRelink").ofModel(),new y.Binding("relinkableTo","canRelink").ofModel(),e(y.Shape),e(y.Shape,{toArrow:"Standard"})),t}},{key:"render",value:function(){return Object(i.jsx)(O.a,{ref:this.diagramRef,divClassName:"diagram-component",initDiagram:this.initDiagram,nodeDataArray:this.props.nodeDataArray,linkDataArray:this.props.linkDataArray,modelData:this.props.modelData,onModelChange:this.props.onModelChange,skipsDiagramUpdate:this.props.skipsDiagramUpdate})}}]),a}(n.Component),C=a(92),w=a(94),A=a(96),L=Object(C.a)((function(e){return{root:{width:300},margin:{height:e.spacing(3)}}})),N=[{value:0,label:"0 flight"},{value:50,label:"50 flights"}];function R(e){return"".concat(e)}var B=function(e){var t=e.limit,a=e.onChange,n=e.onChangeCommited,r=L();return Object(i.jsxs)("div",{className:r.root,children:[Object(i.jsx)(w.a,{id:"discrete-slider-always",gutterBottom:!0,children:"Flights to show"}),Object(i.jsx)(A.a,{value:"number"===typeof t?t:0,onChange:a,onChangeCommitted:n,min:1,max:50,getAriaValueText:R,"aria-labelledby":"discrete-slider-always",step:1,marks:N,valueLabelDisplay:"on"})]})};a(76);var F=function(){var e=Object(n.useState)({flightsData:[],nodeDataArray:[],linkDataArray:[],limit:10,limitCommited:10}),t=Object(m.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),c=Object(m.a)(o,2),l=c[0],h=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,g.a.get("http://api.aviationstack.com/v1/flights?access_key=998e5a4a99bc0905481195a2d92ba876&limit=".concat(a.limitCommited,"&flight_status=scheduled")).then((function(e){for(var t=e.data.data,i=[],n=[],o=0;o<t.length;o++)n.push({text:t[o].departure.airport,color:"lightblue"}),n.push({text:t[o].arrival.airport,color:"green"});n=n.map((function(e,t){return e.key=t,e.loc="".concat(100*t," ").concat(100*t),e}));for(var c=0;c<n.length;c++)(c%2||0===c)&&i.push({from:c,to:c+1});i=i.map((function(e,t){return e.key=-1*(t+1),e})),r(Object(d.a)(Object(d.a)({},a),{},{linkDataArray:i,nodeDataArray:n,flightsData:t}))})).catch((function(e){return console.log(e)}));case 3:h(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a.limitCommited]),Object(i.jsx)("div",{className:"App",children:Object(i.jsxs)("main",{className:"main-block",children:[Object(i.jsx)("div",{className:"flights-board-container",children:l?Object(i.jsx)(f.a,{size:"45px",color:"primary",style:{padding:100}}):Object(i.jsx)(x,{flightsData:a.flightsData,divClassName:"diagram-component",nodeDataArray:a.nodeDataArray,linkDataArray:a.linkDataArray,onModelChange:function(e){},onDiagramDoubleClicked:function(e){}})}),Object(i.jsx)("div",{className:"flights-timetable-container",children:l?Object(i.jsx)(f.a,{size:"45px",color:"primary",style:{padding:100}}):Object(i.jsx)(b,{flightsData:a.flightsData})}),Object(i.jsx)("div",{className:"filter-slider-container",children:Object(i.jsx)(B,{limit:a.limit,onChange:function(e,t){r(Object(d.a)(Object(d.a)({},a),{},{limit:t}))},onChangeCommited:function(e,t){r(Object(d.a)(Object(d.a)({},a),{},{limitCommited:t}))}})})]})})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,98)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),i(e),n(e),r(e),o(e)}))};c.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(F,{})}),document.getElementById("root")),S()}},[[77,1,2]]]);
//# sourceMappingURL=main.40c23b87.chunk.js.map